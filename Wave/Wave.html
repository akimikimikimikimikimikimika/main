<!doctype html><html class="light"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no,viewport-fit=cover" /><meta name="format-detection" content="telephone=no" /><meta name="referrer" content="never" /><meta name="referrer" content="no-referrer" /><meta name="apple-mobile-web-app-title" content="Wave" class="standalone" /><meta name="apple-mobile-web-app-capable" content="yes" class="standalone" /><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" class="standalone" /><link rel="apple-touch-icon" type="image/png" class="standalone" href="Icon.png" /><title>Wave</title><style type="text/css"> html{transition:background-color 0.5s ease;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none;margin:0px;width:100%;height:100%;}html.standalone{width:100vw;height:100vh;}html.light{background-color:#fff;}html.dark{background-color:#000;}body{margin:0px;position:fixed;overflow:hidden;left:0px;right:0px;top:0px;bottom:0px;}body>div:not(#menu,#icon,#statusbar,#controller){position:absolute;overflow:hidden;left:0px;right:0px;top:0px;bottom:0px;}#inputLayer{z-index:5;}#positionLayer{z-index:4;}#waveLayer{z-index:3;}#textLayer{transition:opacity 1s ease;z-index:1;display:flex;justify-content:center;align-items:center;}#textLayer.hidden{opacity:0;}#textLayer>*{transition:color 0.5s ease;font-family:-apple-system,system-ui,BlinkMacSystemFont,SFProDisplay-Medium,HelvaticaNeue-Medium,sans-serif;font-weight:200;font-size:10vmin;}.light #textLayer>*{color:#666;}.dark #textLayer>*{color:#ccc;}.pointer,.wave{position:absolute;overflow:visible;}.pointer{background-color:red;border-radius:50%;position:absolute;}.wave{transition-property:left,right,top,bottom,opacity,border-color;transition-timing-function:linear,linear,linear,linear,ease,ease;transition-delay:0;border-style:solid;border-width:3px;border-radius:50%;box-sizing:border-box;position:absolute;}.light .wave{border-color:green;}.dark .wave{border-color:lime;}#icon{transition:opacity 0.3s linear;background-color:#666;border-radius:50%;opacity:0;cursor:pointer;position:absolute;z-index:6;left:10px;left:calc( env(safe-area-inset-left) + 10px );top:10px;top:calc( env(safe-area-inset-top) + 10px );width:60px;height:60px;-webkit-tap-highlight-color:rgba(0,0,0,0);}#icon.hidden{opacity:1;}#statusbar{transition:opacity 0.5s linear,background-color 0.5s ease;opacity:0;position:absolute;z-index:2;left:0px;right:0px;top:0px;height:0px;height:env(safe-area-inset-top);}.light #statusbar{background-color:#ccc;}.dark #statusbar{background-color:transparent;}#statusbar.hidden{opacity:1;}#menu-backface{z-index:7;-webkit-tap-highlight-color:rgba(0,0,0,0);}#menu-backface.hidden{visibility:hidden;}#menu{transition-property:transform,opacity;transition-duration:0.3s;transition-timing-function:linear;background-color:rgba(153,153,153,0.6);position:absolute;z-index:8;left:0px;right:0px;top:0px;height:80px;height:calc( env(safe-area-inset-top) + 80px );}#menu.hidden{opacity:0;transform:translateY(-100%);}#menu>div{position:absolute;overflow:hidden;display:flex;align-items:center;left:0px;left:env(safe-area-inset-left);right:0px;right:env(safe-area-inset-right);top:0px;top:env(safe-area-inset-top);bottom:0px;}#menu>div>div{color:#fff;font-family:-apple-system,system-ui,BlinkMacSystemFont,SFProDisplay-Medium,HelvaticaNeue-Medium,sans-serif;font-weight:200;font-size:30px;border:solid #fff 1px;margin:0px 10px;border-radius:50%;cursor:pointer;position:relative;display:flex;align-items:center;justify-content:center;width:60px;height:60px;-webkit-tap-highlight-color:rgba(0,0,0,0);}#menu>div>.selected{color:#666;background-color:#fff;}#controller{transition:background-color 0.5s ease;position:absolute;z-index:7;left:0px;right:0px;top:80px;top:calc( env(safe-area-inset-top) + 80px );bottom:0px;}.light #controller{background-color:rgba(255,255,255,0.5);}.dark #controller{background-color:rgba(0,0,0,0.5);}#controller.hidden{visibility:hidden;}#controller>div{position:absolute;left:0px;left:env(safe-area-inset-left);right:0px;right:env(safe-area-inset-right);top:0px;bottom:0px;bottom:env(safe-area-inset-bottom);}#axisLayer{z-index:1;overflow:hidden;}#axisLayer>div{transition:color 0.5s ease,border-color 0.5s ease;box-sizing:border-box;position:absolute;display:flex;justify-content:space-between;right:0px;top:0px;border-style:none;border-width:1px;}.light #axisLayer>div{color:#333;border-color:#333;}.dark #axisLayer>div{color:#ccc;border-color:#ccc;}#axisLayer>div:first-child{left:0px;height:50%;border-bottom-style:solid;flex-direction:row;align-items:flex-end;}#axisLayer>div:last-child{bottom:0px;width:50%;border-left-style:solid;flex-direction:column;align-items:flex-start;}#axisLayer>div>div{margin:10px;font-family:-apple-system,system-ui,BlinkMacSystemFont,SFProDisplay-Medium,HelvaticaNeue-Medium,sans-serif;font-weight:200;font-size:24px;}#pointLayer{z-index:2;overflow:visible;}#pointLayer>div{background-color:orange;border-radius:50%;position:absolute;}#graphInputLayer{z-index:3;overflow:hidden;}</style></head><body><script type="text/javascript"> (()=>{let state={touch:false, standalone:navigator.standalone===true, sources:[], cId:{}, current:[], hold:[], lastMoved:null, dark:false, menuShowed:false, controllerShowed:false };accept=()=>{document.documentElement.className=`${state.dark?"dark":"light"}${state.standalone?"standalone":""}`;};let ge=i=>document.getElementById(i),ce=(t)=>document.createElement(t),cd=(i,c,t)=>{let e=ce("div");if (i) e.id=i;if (c) e.className=c;if (t) e.textContent=t;return e;},ap=(p,c)=>p.appendChild(c),apd=(p,i,c,t)=>ap(p,cd(i,c,t)),rc=c=>c.parentNode.removeChild(c);let body=ce("body");let il=apd(body,"inputLayer");let pl=apd(body,"positionLayer");let wl=apd(body,"waveLayer");let tl=apd(body,"textLayer");let remove=(a,o)=>{var p=false;for (var n=0;n<a.length;n++) {if (p) a[n-1]=a[n];else if (a[n]==o) p=true;}a.length--;return a;};let st=v=>{if (v==0) return "50%";else if (v>0) return `calc( 50% + ${v}px )`;else if (v<0) return `calc( 50% - ${-v}px )`;};let cir=(c,x,y,r)=>{let ct=cd(null,c);let f=()=>{ct.style.left=st(x-r);ct.style.right=st(-x-r);ct.style.top=st(y-r);ct.style.bottom=st(-y-r);};let cdn=(x2,y2,r2)=>{if (typeof(x2)=="number") x=x2;if (typeof(y2)=="number") y=y2;if (typeof(r2)=="number") r=r2;else r=state.touch?30:10;f();};ct.coordinate=(x,y,r)=>{cdn(x,y,r);};let ani=(t,r2,c)=>{ct.style.transitionDuration=`${t}s,${t}s,${t}s,${t}s,${t}s,0.5s`;cdn(x,y,r2);if (c) ct.style.opacity="0";};ct.animate=(t,r,c)=>{ani(t,r,c);};cdn(x,y,r);return ct;};state.touch=il.ontouchstart===null;let catchHeld=(x,y,id)=>{var o=null;state.hold.forEach(e=>{if (Math.hypot(x-e.x,y-e.y)<=(state.touch?30:10)) o=e;});if (o) {state.current.push(o);state.cId[id]=o;state.lastMoved=o;o.id=id;o.moving=true;}return !!o;};let toggleHold=o=>{if (o.hold) {o.hold=false;remove(state.hold,o);if (o==state.lastMoved) state.lastMoved=null;if (!o.moving) deinit(o);}else {o.hold=true;state.lastMoved=o;state.hold.push(o);}};let deinit=o=>{o.stop();rc(o.node);remove(state.sources,o);};var toggleMenu=null;var toggleController=null;var toggleDarkMode=null;var tcq=null,tcb=null;(()=>{let createP=(id,x,y)=>{var int=null;let o={x:x, y:y, L:Math.min(wl.offsetWidth,wl.offsetHeight)/6, F:90, update:null, oscillating:false, hold:false, moving:true, id:id, node:ap(pl,cir("pointer",x,y)), oscillate:()=>{if (!int) {var T=60/o.F,l=o.L,u=false,t=state.touch;let f=()=>{let w=Math.hypot(wl.offsetWidth/2+Math.abs(o.x),wl.offsetHeight/2+Math.abs(o.y))*1.1-(t?30:10);let d=w/l*T;let wave=ap(wl,cir("wave",o.x,o.y,t?30:10));setTimeout(()=>{wave.animate(d,w,true);},0);setTimeout(()=>{rc(wave);},d*1000);if (u) {u=false;clearInterval(int);T=60/o.F,l=o.L;int=setInterval(f,T*1000);}};o.update=()=>{u=true;};f();int=setInterval(f,T*1000);o.oscillating=true;}}, stop:()=>{if (int) {o.oscillating=false;o.update=null;clearInterval(int);int=null;}}};state.lastMoved=o;state.sources.push(o);state.current.push(o);state.cId[id]=o;o.oscillate();return o;};let moveP=(id,x,y)=>{let o=state.cId[id];o.x=x;o.y=y;o.node.coordinate(x,y);return o;};let removeP=(id)=>{let o=state.cId[id];o.id=null;o.moving=false;if (!o.hold) {state.lastMoved=null;deinit(o);}remove(state.current,o);delete state.cId[id];return o;};let X=e=>e.clientX-(il.offsetWidth/2);let Y=e=>e.clientY-(il.offsetHeight/2);if (state.touch) {let touchstart=e=>{e.preventDefault();removeStartup();var done=false;if (e.touches.length==1) {let t=e.touches[0];done=catchHeld(X(t),Y(t),t.identifier);}if (!done) for (var n=0;n<e.changedTouches.length;n++) {let t=e.changedTouches[n];createP(t.identifier,X(t),Y(t));}return false;};il.ontouchstart=e=>touchstart(e);let touchmove=e=>{e.preventDefault();for (var n=0;n<e.changedTouches.length;n++) {let t=e.changedTouches[n];moveP(t.identifier,t.clientX-(il.offsetWidth/2),t.clientY-(il.offsetHeight/2));}return false;};il.ontouchmove=e=>touchmove(e);let touchend=e=>{e.preventDefault();for (var n=0;n<e.changedTouches.length;n++) {let t=e.changedTouches[n];removeP(t.identifier);}return false;};il.ontouchend=il.ontouchcancel=e=>touchend(e);}else {let mousedown=e=>{e.preventDefault();removeStartup();if (!catchHeld(X(e),Y(e),"current")) createP("current",X(e),Y(e));return false;};il.onmousedown=e=>mousedown(e);let mousemove=e=>{if (state.cId.current) moveP("current",X(e),Y(e));return false;};il.onmousemove=e=>mousemove(e);let mouseup=()=>{if (state.current.length) removeP("current");return false;};il.onmouseup=il.onmouseout=()=>mouseup();let keyup=e=>{switch (e.key) {case "h":if (state.lastMoved) toggleHold(state.lastMoved);break;case "m":toggleMenu();break;case "d":toggleDarkMode();break;case "e":tcq();break;case "Delete": case "Backspace": case "Clear": if (state.current.length) il.onmouseup();else if (state.lastMoved) toggleHold(state.lastMoved);break;}return false;};body.onkeyup=e=>keyup(e);}})();let icon=apd(body,"icon","hidden");let mc=apd(body,"menu","hidden");let menu=apd(mc);let mb=apd(body,"menu-backface","hidden");let sb=apd(body,"statusbar","hidden");(()=>{var uh=false,moving=false;let current=[],t=state.touch?"ontouchend":"onmouseup";let f=w=>{h.className="";if (w) {moving=state.current.length>0;if (moving) {uh=true;state.current.forEach(o=>{uh=uh&&(!o.hold);current.push(o);if (!o.hold) toggleHold(o);});h.className=uh?"":"selected";}else if (state.lastMoved) {current[0]=state.lastMoved;h.className="selected";}}else {if (state.controllerShowed) toggleController();if (moving) {while (current.length) {if (uh) toggleHold(current[0]);current.shift();}uh=false;}else current.length=0;}state.menuShowed=w;icon.className=mc.className=mb.className=sb.className=w?"":"hidden";};toggleMenu=()=>{f(!state.menuShowed);};apd(menu,null,null,"×")[t]=mb.onclick=()=>{f(false);return false;};icon[t]=()=>{f(true);return false;};let h=apd(menu,null,null,"H");h[t]=()=>{if (moving) {uh=!uh;h.className=uh?"":"selected";}else if (state.lastMoved) {h.className="";toggleHold(state.lastMoved);}return false;};let e=apd(menu,null,null,"E");e[t]=tcq=()=>{toggleController(current);return false;};tcb=e;let d=apd(menu,null,null,"D");d.className=state.dark?"selected":"";toggleDarkMode=()=>{let v=!state.dark;state.dark=v;d.className=v?"selected":"";accept();};d[t]=()=>{toggleDarkMode();return false;};})();let ctrl=apd(body,"controller","hidden");let al=apd(ctrl,"axisLayer");let pt=apd(apd(ctrl,"pointLayer"));let gil=apd(ctrl,"graphInputLayer");(()=>{var a=apd(al);let Ft=apd(a,null,null,"♩ = 90");apd(a,null,null,"f");a=apd(al);apd(a,null,null,"λ");let Lt=apd(a,null,null,"100 %");let tc=tcb;tcb=null;let t=state.touch?30:10;pt.style.left=pt.style.right=pt.style.top=pt.style.bottom=`calc( 50% - ${t}px )`;let l=[];toggleController=cu=>{if (state.controllerShowed) {l.length=0;ctrl.className="hidden";state.controllerShowed=false;tc.className="";}else {let f=()=>{if (!cu) {if (state.lastMoved) cu=[state.lastMoved];else cu=[];}var F=0,L=0;cu.forEach(o=>{l.push(o);F+=Fr(o.F);L+=Lr(o.L);});if (l.length) {F/=l.length;L/=l.length;let x=Fp(F),y=Lp(L);pt.style.left=`calc( ${x}% - ${t}px )`;pt.style.right=`calc( ${100-x}% - ${t}px )`;pt.style.top=`calc( ${y}% - ${t}px )`;pt.style.bottom=`calc( ${100-y}% - ${t}px )`;ctrl.className="";state.controllerShowed=true;tc.className="selected";}};if (state.menuShowed) f();else {toggleMenu();setTimeout(f,500);}}};let Lb=()=>Math.min(wl.offsetWidth,wl.offsetHeight)/6;let Fc=e=>{let r=gil.getBoundingClientRect();var x=0;for (var n=0;n<e.length;n++) x+=e[n].clientX;x/=e.length;return (x-r.left)/r.width*2-1 };let Lc=e=>{let r=gil.getBoundingClientRect();var y=0;for (var n=0;n<e.length;n++) y+=e[n].clientY;y/=e.length;return 1-((y-r.top)/r.height*2);};let Fw=v=>90*(3**v);let Lw=v=>Lb()*(3**v);let Fr=c=>Math.log(c/90)/Math.log(3);let Lr=c=>Math.log(c/Lb())/Math.log(3);let Fp=v=>(1+v)*50;let Lp=v=>(1-v)*50;let move=e=>{let F=Fc(e),L=Lc(e);let x=Fp(F),y=Lp(L);pt.style.left=`calc( ${x}% - ${t}px )`;pt.style.right=`calc( ${100-x}% - ${t}px )`;pt.style.top=`calc( ${y}% - ${t}px )`;pt.style.bottom=`calc( ${100-y}% - ${t}px )`;Ft.textContent=`♩ = ${Math.round(Fw(F))}`;Lt.textContent=`${Math.round((3**L)*100)}%`;l.forEach(o=>{o.F=Fw(F);o.L=Lw(L);o.update();});};if (state.touch) {touchstart=e=>{e.preventDefault();move(e.targetTouches);return false;};gil.ontouchstart=e=>touchstart(e);touchmove=e=>{e.preventDefault();move(e.targetTouches);return false;};gil.ontouchmove=e=>touchmove(e);touchend=e=>{e.preventDefault();move(targetTouches);return false;};gil.ontouchend=gil.ontouchcancel=e=>touchend(e);}else {var valid=false;mousedown=e=>{e.preventDefault();valid=true;move([e]);return false;};gil.onmousedown=e=>mousedown(e);mousemove=e=>{e.preventDefault();if (valid) move([e]);return false;};gil.onmousemove=e=>mousemove(e);mouseup=e=>{e.preventDefault();if (valid) move([e]);valid=false;return false;};gil.onmouseup=gil.onmouseout=e=>mouseup(e);}})();let startup=apd(tl,null,null,state.touch?"Tap here":"Click here");var startupVisible=true;let removeStartup=()=>{if (startupVisible) {startupVisible=false;tl.className="hidden";setTimeout(()=>{tl.className="";rc(startup);},1000);}};if (state.standalone) {let l=document.getElementsByClassName("standalone");for (var n=0;n<l.length;n++) rc(l[n]);}accept();onload=()=>{document.documentElement.replaceChild(body,document.body)};})();</script><noscript><div id="waveLayer"><div class="wave" style="left:calc( 50% - 50px );right:calc( 50% - 50px );top:calc( 50% - 50px );bottom:calc( 50% - 50px );"></div><div class="wave" style="left:calc( 50% - 100px );right:calc( 50% - 100px );top:calc( 50% - 100px );bottom:calc( 50% - 100px );"></div><div class="wave" style="left:calc( 50% - 150px );right:calc( 50% - 150px );top:calc( 50% - 150px );bottom:calc( 50% - 150px );"></div><div class="wave" style="left:calc( 50% - 200px );right:calc( 50% - 200px );top:calc( 50% - 200px );bottom:calc( 50% - 200px );"></div><div class="wave" style="left:calc( 50% - 250px );right:calc( 50% - 250px );top:calc( 50% - 250px );bottom:calc( 50% - 250px );"></div><div class="wave" style="left:calc( 50% - 300px );right:calc( 50% - 300px );top:calc( 50% - 300px );bottom:calc( 50% - 300px );"></div></div></noscript></body></html>